(this["webpackJsonpprojectile-motion"]=this["webpackJsonpprojectile-motion"]||[]).push([[0],{11:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),l=n(5),c=n.n(l),r=(n(11),n(6)),i=(n(12),n(22),n(0)),d=function(e){return Object(i.jsxs)("div",{className:"input-field-container",children:[Object(i.jsx)("label",{className:"grid-label",htmlFor:e.id,children:e.label}),Object(i.jsx)("input",{id:e.id,type:"text",placeholder:e.placeholder,defaultValue:e.defaultValue,onChange:function(t){return e.handleChange(t.target)}})]})},s=[{id:"fire-velocity",defaultValue:60,label:"Fire Speed (m/s)",placeholder:"Enter Speed"},{id:"angle",defaultValue:45,label:"Firing Angle (degrees)",placeholder:"Enter Angle"},{id:"x-coor",defaultValue:0,label:"X Coordinate",placeholder:"Enter x-coordinate"},{id:"y-coor",defaultValue:0,label:"Y Coordinate",placeholder:"Enter y-coordinate"}],u=[{id:"mass",defaultValue:1e3,label:"Mass (kg)",placeholder:"Enter Mass"},{id:"radius",defaultValue:5,label:"Projectile Radius (m)",placeholder:"Enter Radius"},{id:"fluid",defaultValue:1.225,label:"Fluid Density (kg/m^3)",placeholder:"Enter Fluid Density"},{id:"dragCoeff",defaultValue:.5,label:"Drag Coefficient",placeholder:"Enter Drag Coefficient"}],m=(n(24),function(e){Object(a.useEffect)((function(){I()}),[]);var t=[],n=0,o=!1,l=new Map,c=5,r=700,m=1200,h="blue",v=1e3,f=1.225,y=.5,g=45,p=60,x=null,b=0,j=0,I=function(){var e=document.getElementById("my-canvas-projectile");if(e){var n=e.getContext("2d");n.save(),n.scale(3,3),n.font="0.9rem Arial",n.clearRect(0,0,m,r),n.beginPath(),n.strokeStyle="black",n.strokeRect(0,0,m,r),n.fillStyle="white",n.fillRect(1,1,1198,698),n.closePath(),E(),M(),S(),t.forEach((function(e){w(e.xMovement,e.yMovement,e.radius,h,e.xSpeed,e.ySpeed,e.timeToImpact,e.velocityAngle,e.velocity)})),n.restore()}},S=function(){var e=document.getElementById("my-canvas-projectile").getContext("2d");e.beginPath(),e.setLineDash([3,3]),e.strokeStyle="red",l.forEach((function(t){t.forEach((function(t,n){0===n?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}))})),e.stroke(),e.setLineDash([]),e.closePath()},w=function(e,t,n,a,o,l,c,i,d){var s=document.getElementById("my-canvas-projectile").getContext("2d");s.beginPath(),s.strokeStyle=a,s.arc(e,t,n,0,2*Math.PI),s.fill(),s.fillStyle="#000000",s.stroke(),s.closePath(),s.beginPath(),s.translate(e,t),s.fillText("y-speed: ".concat(l.toFixed(3)," m/s"),-10,-70),s.fillText("x-speed: ".concat(o.toFixed(3)," m/s"),-10,-55),s.fillText("x: ".concat(e.toFixed(3)," m"),-10,-40),s.fillText("y: ".concat((r-t-n).toFixed(3)," m"),-10,-25),s.fillText("t: ".concat(c.toFixed(3)," s"),-10,-10),s.translate(-e,-t),s.translate(e,t),s.rotate(i+Math.PI/180*90),s.strokeStyle="green",s.moveTo(0,-n),s.lineTo(0,-n-.8*d),s.moveTo(0,n),s.lineTo(0,n+.5*d),s.moveTo(0,n),s.translate(0,-n-.8*d),s.moveTo(0,0),s.lineTo(3,5),s.moveTo(0,0),s.lineTo(-3,5),s.translate(0,n+.8*d),s.translate(0,n+.5*d),s.moveTo(0,0),s.lineTo(3,-5),s.moveTo(0,0),s.lineTo(-3,-5),s.translate(0,-n-.5*d),s.rotate(-(i+Math.PI/180*90)),s.translate(-e,-t),s.translate(e,t),s.moveTo(0,n),s.lineTo(0,n+25),s.translate(0,n+25),s.moveTo(0,0),s.lineTo(3,-5),s.moveTo(0,0),s.lineTo(-3,-5),s.translate(0,-n-25),s.translate(-e,-t),s.stroke(),s.fillStyle=a,s.closePath()},E=function(){for(var e=document.getElementById("my-canvas-projectile").getContext("2d"),t=0;t<=7;t++)e.beginPath(),e.fillStyle="black",e.fillText("".concat(100*t,"m"),0,r-100*t),e.fillStyle=h,e.closePath()},M=function(){for(var e=document.getElementById("my-canvas-projectile").getContext("2d"),t=1;t<=12;t++)e.beginPath(),e.fillStyle="black",e.fillText("".concat(100*t,"m"),100*t,r),e.fillStyle=h,e.closePath()},T=function(){x=setInterval((function(){document.getElementById("my-canvas-projectile")?t.forEach((function(t){if(t.yMovement>r-t.radius&&!1===t.start)t.yMovement=r-t.radius,777===Math.round(t.xMovement)&&0!==g&&90!==Math.abs(g)&&p>10&&function(){var t=5,n=document.createElement("div");n.innerHTML="<h1>Winner! Starting mini game in 5 seconds</h1>",n.className="winner-overlay",document.querySelector("#root").appendChild(n);var a=setInterval((function(){t--,n.innerHTML="<h1>Winner! Starting mini game in ".concat(t," seconds</h1>")}),1e3);setTimeout((function(){clearInterval(a),n&&n.remove(),e.setRenderGame(!0)}),5e3)}(),t.bottom=!0;else if(t.yMovement<r-t.radius&&(t.start=!1),!1===t.bottom){t.ySpeed=t.ySpeed+.098;var n=Math.sqrt(Math.pow(t.ySpeed,2)+Math.pow(t.xSpeed,2)),a=null,c=null;if(o){var i=.5*y*f*Math.pow(t.xSpeed,2)*Math.PI*Math.pow(t.radius,2),d=.5*y*f*Math.pow(t.ySpeed,2)*Math.PI*Math.pow(t.radius,2);a=i/v/100,c=d/v/100}t.velocityAngle=Math.asin(t.ySpeed/n),o&&(t.xSpeed-=a,t.ySpeed<0?t.ySpeed+=c:t.ySpeed-=c),t.velocity=n,t.xMovement=t.xMovement+t.xSpeed/100,t.yMovement=t.yMovement+t.ySpeed/100,t.timeToImpact=t.timeToImpact+.01,l.has(t.id)&&l.get(t.id).push({x:t.xMovement,y:t.yMovement})}I()})):clearInterval(x),0===t.filter((function(e){return!1===e.bottom})).length&&clearInterval(x)}),10)},O=function(e){e.value=e.value.replace(/[^0-9\.]/g,""),{"y-coor":function(e){return j=e},"x-coor":function(e){return b=e},angle:function(e){return g=e},"fire-velocity":function(e){return p=e},mass:function(e){return v=e},radius:function(e){return c=e},fluid:function(e){return f=e},dragCoeff:function(e){return y=e}}[e.id](e.value&&!isNaN(e.value)?parseFloat(e.value):null)};return Object(i.jsxs)("div",{className:"draw-container",id:"draw-container",tabIndex:"0",children:[Object(i.jsxs)("section",{className:"input-parent",children:[Object(i.jsxs)("div",{className:"input-container",children:[s.map((function(e,t){return Object(i.jsx)(d,{id:e.id,placeholder:e.placeholder,defaultValue:e.defaultValue,label:e.label,handleChange:O},t)})),Object(i.jsxs)("div",{className:"input-field-container",id:"drag-container",children:[Object(i.jsx)("label",{className:"grid-label",htmlFor:"drag",children:"Apply Drag"}),Object(i.jsx)("input",{id:"drag",type:"checkbox",onChange:function(){o=!o,document.getElementById("drag-inputs").style.display=o?"flex":"none"}})]})]}),Object(i.jsx)("div",{className:"input-container drag",id:"drag-inputs",style:{display:"none"},children:u.map((function(e,t){return Object(i.jsx)(d,{id:e.id,placeholder:e.placeholder,defaultValue:e.defaultValue,label:e.label,handleChange:O},t)}))})]}),Object(i.jsx)("div",{className:"move-container",id:"projectile-move-container",children:Object(i.jsx)("canvas",{className:"canvas",id:"my-canvas-projectile",height:2100,width:3600,onClick:function(){if(clearInterval(x),t.push({id:n,velocityAngle:0,start:!0,timeToImpact:0,xMovement:b,yMovement:r-j-c,bottom:!1,xSpeed:Math.cos(g*(Math.PI/180))*p,ySpeed:-Math.sin(g*(Math.PI/180))*p,velocity:0,radius:c}),l.set(n,[]),n++,4===t.length){var e=t[0].id;l.delete(e),t.shift()}T()}})})]})}),h=(n(25),function(){var e=20,t=200,n=20,o=220,l=null,c=0,r=[],d=10,s=400,u=800,m=[{x:u},{x:u}],h=!1,v=2e3,f=10,y=null,g=new Set;if(Object(a.useEffect)((function(){j()}),[]),0===r.length)for(var p=0;p<30;p++){var x=Math.floor(Math.random()*u),b=Math.floor(Math.random()*s);r.push({x:x,y:b})}var j=function(){var a=document.getElementById("my-canvas-obj").getContext("2d");a.save(),a.scale(2,2),a.clearRect(0,0,u,s),a.beginPath(),a.strokeRect(0,0,u,s),a.closePath(),S(),I(e,t,d,d,"green"),l&&I(n,o,d,d,"yellow"),m.forEach((function(e){e.y||(e.y=Math.floor(Math.random()*s)),I(e.x,e.y,10,2,"red")})),a.restore()},I=function(e,t,n,a,o){var l=document.getElementById("my-canvas-obj").getContext("2d");l.beginPath(),l.fillStyle=o,l.fillRect(e,t,n,a),l.stroke(),l.closePath()},S=function(){var e=document.getElementById("my-canvas-obj").getContext("2d");e.strokeStyle="white",r.forEach((function(t){e.beginPath(),e.arc(t.x,t.y,1,0,2*Math.PI),e.stroke(),e.closePath()}))},w=function a(){document.getElementById("start-overlay")&&document.getElementById("start-overlay").remove(),document.getElementById("draw-container").focus();var r=setInterval((function(){m.push({x:u}),m[0]&&m[0].x<=-20&&m.shift(),j()}),v),i=setInterval((function(){if(c++,window.localStorage.getItem("hi-score")&&c>window.localStorage.getItem("hi-score")?window.localStorage.setItem("hi-score",c):window.localStorage.getItem("hi-score")||window.localStorage.setItem("hi-score",c),document.getElementById("draw-container")){var e=document.getElementById("score-keeper"),t=document.getElementById("hi-score");e.innerText="Score: ".concat(c),t.innerText="Highscore: ".concat(window.localStorage.getItem("hi-score"))}}),200),s=setInterval((function(){if(m.forEach((function(a){a.x--,function(a){var c=e+d===a.x&&t<=a.y&&t+d>=a.y,r=n+d===a.x&&o<=a.y&&o+d>=a.y;(c||l&&r)&&(h=!0)}(a)})),h||!document.getElementById("my-canvas-obj")){if(clearInterval(s),clearInterval(r),clearInterval(i),clearInterval(y),document.getElementById("move-container")){var a=document.createElement("div");a.id="canvas-overlay",a.style.height=document.querySelector("canvas").clientHeight+"px",a.style.width=document.querySelector("canvas").clientWidth+"px";var c=document.createElement("h3");c.innerText="GAME OVER!",a.appendChild(c);var u=document.createElement("button");u.innerText="RESTART",u.onclick=E,a.appendChild(u),document.getElementById("move-container").appendChild(a)}}else j()}),f);y=setInterval((function(){clearInterval(s),clearInterval(r),clearInterval(i),clearInterval(y),v*=.5,f*=.9,h||a()}),1e4)},E=function(){document.getElementById("canvas-overlay").remove(),e=20,t=200,n=20,o=220,v=2e3,f=10,c=0,m=[{x:u},{x:u}],h=!1,w()},M=function(a){var c;a.preventDefault(),c=a.key,g.add(c),g.forEach((function(a){!function(a){switch(a.toLowerCase()){case"arrowup":0!==t&&(t-=4);break;case"arrowdown":t<=390&&(t+=4);break;case"arrowleft":0!==e&&(e-=4);break;case"arrowright":e<=790&&(e+=4);break;case"w":l&&0!==o&&(o-=4);break;case"s":l&&o<=390&&(o+=4);break;case"a":l&&0!==n&&(n-=4);break;case"d":l&&n<=790&&(n+=4)}}(a)}))},T=function(e){var t;e.preventDefault(),t=e.key,g.delete(t)};return window.onresize=function(){if(document.getElementById("canvas-overlay")){var e=document.getElementById("canvas-overlay");e.style.height=document.querySelector("canvas").clientHeight+"px",e.style.width=document.querySelector("canvas").clientWidth+"px"}},Object(i.jsxs)("div",{className:"draw-container",id:"draw-container",tabIndex:"0",onKeyDown:function(e){return M(e)},onKeyUp:function(e){return T(e)},children:[Object(i.jsx)("div",{id:"score-keeper",children:"Score: 0"}),Object(i.jsxs)("div",{id:"hi-score",children:["Highscore:"," ",window.localStorage.getItem("hi-score")?window.localStorage.getItem("hi-score"):0]}),Object(i.jsxs)("div",{className:"button-container",children:[Object(i.jsx)("button",{onClick:function(){l=!1},children:"1 Player"}),Object(i.jsx)("button",{onClick:function(){l=!0},children:"2 Player"})]}),Object(i.jsxs)("div",{className:"move-container",id:"move-container",children:[Object(i.jsxs)("div",{id:"start-overlay",style:{height:"400px",width:"800px"},children:[Object(i.jsxs)("section",{className:"instruction-section",children:[Object(i.jsx)("h3",{children:"Instructions"}),Object(i.jsx)("div",{children:"Player 1: Arrow Keys"}),Object(i.jsx)("div",{children:"Player 2: WASD"})]}),Object(i.jsx)("button",{onClick:w,children:"Start"})]}),Object(i.jsx)("canvas",{className:"canvas",id:"my-canvas-obj",style:{height:"40%",width:"60%"},height:800,width:1600})]})]})});var v=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],o=t[1];return Object(i.jsx)("div",{className:"App",children:n?Object(i.jsx)(h,{}):Object(i.jsx)(m,{setRenderGame:o})})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),l(e),c(e)}))};c.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root")),f()}},[[26,1,2]]]);
//# sourceMappingURL=main.3496fe7a.chunk.js.map